import paho.mqtt.client as mqttimport timeimport main_runimport jsonHOST = "192.168.3.1"PORT = 1883# user = 'root'# passwd = 'onioneer'class Publisher:    # def __init__(self, topic, frequency, speed, direction, status):    #     self.topic = topic    #     self.frequency = frequency    #     self.speed = speed    #     self.direction = direction    #     self.status = status    def connect_on(self, ip, port):        def on_connect(client, userdata, flags, rc):            if rc == 0:                pass            else:                print("Failed to connect, return code %d\n", rc)        client = mqtt.Client()        # client.username_pw_set(user, passwd)        client.on_connect = on_connect        client.connect(ip, port)        return client    def period_publish(self, pub_client, data):        period_data = json.dumps(data)        pub_client.publish("sensor/status", period_data)    def publish_mqtt(self, client, topic, status, frequency, speed, direction):        message = {"status": status, "frequency": frequency, "speed": speed, "direction": direction}        data_out = json.dumps(message)        result = client.publish(topic, data_out)        # result: [0, 1]        status = result[0]        if status == 0:            pass        else:            print("Failed to publish update to topic")